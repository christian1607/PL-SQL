create or replace TRIGGER AFTER_INSERT_COUNTRY
AFTER INSERT ON COUNTRIES  
DECLARE 
    
BEGIN

   DBMS_OUTPUT.PUT_LINE('SE REGISTRO UN DATO EN LA TABLA: COUNTRIES');
   Update COUNTRIES 
   set COUNTRY_NAME='argentiNA'
   WHERE COUNTRY_ID='AR';

END;



-- BEFORE UPDATE

CREATE OR REPLACE TRIGGER BEFORE_UPDATE_COUNTRY
BEFORE UPDATE ON COUNTRIES
ENABLE

DECLARE
    usuario VARCHAR(50);
BEGIN
    SELECT user INTO usuario FROM dual;
    
    DBMS_OUTPUT.PUT_LINE('Se intenta actualizar un campo por el usuario'||usuario);
    
END;


INSERT INTO COUNTRIES VALUES ('CL','CHILE',2);

Select * from COUNTRIES;


-- MIXING

CREATE OR REPLACE TRIGGER AUDITORIA_COUNTRY
AFTER UPDATE OR INSERT OR DELETE ON COUNTRIES
ENABLE


DECLARE 


BEGIN 
    IF  INSERTING THEN
        DBMS_OUTPUT.PUT_LINE('Se INSERTO un registro');
    ELSIF UPDATING THEN
         DBMS_OUTPUT.PUT_LINE('Se ACTUALIZO un registro');
    ELSE
         DBMS_OUTPUT.PUT_LINE('Se ELIMINO un registro');
    
    END IF;

END;

